<div class="app-portal-monitormanager-monitoring">
  <div class="container-fluid">
    <div class="row header">
      <div class="title pull-left">监控状态</div>
      <div class="func-group pull-right">
        <button class="btn btn-link history" ng-click="history()"><img src="images/icon_history.png" width="14" height="14" alt=""> 监控记录</button>
        <button class="btn btn-link edit" ng-click="modify()"><i class="fa fa-pencil" aria-hidden="true"></i> 编辑</button>
      </div>
    </div>

    <div class="card-columns">

      <!-- START card -->
      <div class="card" ng-class="{'off': o.off, 'warn': !o.off && o.warn }" ng-repeat="o in view.detail track by o.id">
        <div class="card-head">
          <div class="icon-link">
            <div class="bar"></div>
            <div class="stop" ng-if="o.off"></div>
          </div>
          <div class="name">{{o.vendorThingID}}</div>
        </div>
        <div class="card-body">
          <div class="alert-wrap">
            <button class="btn btn-link edit pull-right" ng-click="setAlert()"><img src="images/icon_history.png" width="14" height="14" alt=""> 警报设置</button>
          </div>
          <div class="state-wrap" ng-repeat="s in o.status">
            <span class="state">{{s.displayName}}：</span><span class="value">{{displayValue(s)}}</span>
          </div>
        </div>
        <div class="type">{{o.typeDisplayName}} | {{o.vendorThingID | locTag}}</div>
        <div class="icon">
          <img src="images/icon_monitoring_on.png" width="69" height="25" alt="" ng-if="!o.off">
          <img src="images/icon_monitoring_off.png" width="69" height="25" alt="" ng-if="o.off">
        </div>
      </div>
      <!-- END card -->

    </div>
  </div>
</div>


<script type="text/ng-template" id="app-portal-monitormanager-setalert">
  <i class="fa fa-times" aria-hidden="true" ng-click="close()"></i>
  <div class="modal-header">
    <h3 class="modal-title">{{'thingManager.createGateway' | translate}}</h3>
  </div>
  <div class="modal-body clearfix">

  </div>
  <div class="modal-footer">
    <button class="btn btn-warning btn-lg pull-center" ng-click="createAlert()">{{'controls.create' | translate}}</button>
  </div>
</script>